    <%= require('raw-loader!index/header.html') %>

    <title data-i18n="htmlTitle">Ballot</title>

    <% if (!htmlWebpackPlugin.options.inject) {
      for (let key of htmlWebpackPlugin.files.css) {
        if (/vendor/.test(key)) { %>
          <link rel="preload" as="style" href="<%= key %>" onload="this.onload=null;this.rel='stylesheet'">
        <% }
      }
    } %>

    <style type="text/css">
      <%= require('raw-loader!index/style.css') %>
    </style>

    <% if (!htmlWebpackPlugin.options.inject) {
      for (let key of htmlWebpackPlugin.files.css) {
        if (!/vendor/.test(key)) { %>
          <link rel="preload" as="style" href="<%= key %>" onload="this.onload=null;this.rel='stylesheet'">
        <% }
      }
    } %>

    <script>
      <%= require('raw-loader!fg-loadcss/dist/cssrelpreload.min.js') %>
    </script>
  </head>
  <body>

    <% const { en } = require('./translations'); %>
    <% const raw = require('html-webpack-plugin/lib/loader.js!./content.ejs')({}) %>
    <%= raw.replace(
      /data-i18n="([_a-zA-Z0-9.]*)"></g,
      (match, k) => `data-i18n="${k}">${en[k]}<`,
    ) %>

    <%= require('raw-loader!index/outdated.html') %>

    <% if (!htmlWebpackPlugin.options.inject) {
      for (let key of htmlWebpackPlugin.files.js) {
        if (!/outdated/.test(key)) { %>
          <script src="<%= key %>"></script>
        <% }
      }
    } else { %>
      <script src="/dll/main.dll.js"></script>
    <% } %>
  </body>
</html>
